fragment FilterWithGroups on Filter {
	id
	groups {
		id
		name
		index
		fields {
			id
			name
			index
		}
	}
}

mutation ChangeFilterGroupsOrder($orderedGroupsIds: [String!]!) {
	changeFilterGroupsOrder(orderedGroupsIds: $orderedGroupsIds) {
		id
		index
		fields {
			id
			index
		}
	}
}

mutation ChangeFilterGroupItemsOrder(
	$filterGroupId: String!
	$orderedItemsIds: [String!]!
) {
	changeFilterGroup(
		filterGroupId: $filterGroupId
		change: { orderedItemsIds: $orderedItemsIds }
	) {
		id

		groups {
			id
			index
			fields {
				id
				index
			}
		}
	}
}

mutation ChangeFilterGroupItemLocation(
	$filterGroupId: String!
	$deleteIndex: Int!
	$newGroupId: String!
	$newGroupIndex: Int!
) {
	changeFilterGroup(
		filterGroupId: $filterGroupId
		change: {
			deleteIndex: $deleteIndex
			newGroupId: $newGroupId
			newGroupIndex: $newGroupIndex
		}
	) {
		id
		groups {
			id
			index
			fields {
				id
				index
			}
		}
	}
}
